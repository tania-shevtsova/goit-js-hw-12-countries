{"version":3,"sources":["webpack:///./index.js","webpack:///./fetchCountries.js","webpack:///./templates/country-item.hbs"],"names":["baseUrl","debounce","require","countriesList","document","querySelector","inp","getElementById","debounced","inpValue","value","clearOutput","onData","fetch","then","response","json","data","catch","e","console","log","fetchCountries","onDataReady","items","itm","length","PNotify","error","reduce","acc","item","name","insertAdjacentHTML","insertItems","countryItem","closeAll","innerHTML","addEventListener","Handlebars","module","exports","template","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","call","capital","population","each","languages","program","noop","flag","lambda"],"mappings":"gNAMMA,G,UAAU,0CAEVC,EAAWC,EAAQ,QAKnBC,EAAgBC,SAASC,cAAc,iBACzCC,EAAMF,SAASG,eAAe,SAE5BC,EAAYP,GAGlB,WACE,IAAMQ,EAAWH,EAAII,MACrB,GAAiB,KAAbD,EAEF,YADAE,KCtBW,SAAwBX,EAASU,EAAOE,GACpDC,MAAMb,EAAUU,GAAOI,MAAK,SAAAC,GAAQ,OACnCA,EACGC,UACAF,MAAK,SAAAG,GAGJ,OAFc,OAAXL,GACFA,EAAOK,GACDA,KAERC,OAAO,SAAAC,GACNC,QAAQC,IAAIF,MDgBlBG,CAAetB,EAASS,EAAUc,KAVD,KAanC,SAASA,EAAYN,GAyBrB,IAQ0BO,EAflBC,EAjBNd,IACIM,EAAKS,QAAU,GAYnBC,IAAQC,MAAM,+DAVHX,EAAKS,OAAS,GAcnBD,EAbYR,EAaMY,QACtB,SAACC,EAAKC,GAAN,OAAgBD,EAAO,OAAOC,EAAKC,KAAhB,UACnB,IAEF7B,EAAc8B,mBAAmB,YAAaR,IAOhD,SAAqBD,GACnBrB,EAAc8B,mBAAmB,YAAaT,GAJ9CU,EAOwBV,EA1BHP,EA2BdkB,IAAYX,KAxBnBG,IAAQS,WA2BV,SAASzB,IACPR,EAAckC,UAAY,GAlD5B/B,EAAIgC,iBAAiB,QAAS9B,I,qBEjB9B,IAAI+B,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAAS7B,GAC5G,IAAI8B,EAAQC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAEhK,MAAO,8CACHD,SAASP,EAA+E,OAArEA,EAASH,EAAQb,OAAmB,MAAVY,EAAiBA,EAAOZ,KAAOY,IAAmBI,EAASG,KAA2BG,EAASN,EAAOS,KAAKR,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOhC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAAS+B,GAC5Q,kEACAO,SAASP,EAAqF,OAA3EA,EAASH,EAAQa,UAAsB,MAAVd,EAAiBA,EAAOc,QAAUd,IAAmBI,EAASG,KAA2BG,EAASN,EAAOS,KAAKR,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOhC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAAS+B,GACrR,4EACAO,SAASP,EAA2F,OAAjFA,EAASH,EAAQc,aAAyB,MAAVf,EAAiBA,EAAOe,WAAaf,IAAmBI,EAASG,KAA2BG,EAASN,EAAOS,KAAKR,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOhC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAAS+B,GAC9R,0FAC6P,OAA3PD,EAASF,EAAQe,KAAKH,KAAKR,EAAkB,MAAVL,EAAiBA,EAAOiB,UAAYjB,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUmB,QAAQ,EAAG7C,EAAM,GAAG,QAAU0B,EAAUoB,KAAK,KAAO9C,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkB8B,EAAS,IAC7Q,2CACAQ,SAASP,EAA+E,OAArEA,EAASH,EAAQmB,OAAmB,MAAVpB,EAAiBA,EAAOoB,KAAOpB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOS,KAAKR,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOhC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAS+B,GAC7Q,QACAO,SAASP,EAA+E,OAArEA,EAASH,EAAQb,OAAmB,MAAVY,EAAiBA,EAAOZ,KAAOY,IAAmBI,EAASG,KAA2BG,EAASN,EAAOS,KAAKR,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOhC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAAS+B,GAC9Q,OACJ,EAAI,SAASL,EAAUC,EAAOC,EAAQC,EAAS7B,GAC7C,MAAO,qCACL0B,EAAUa,iBAAiBb,EAAUsB,OAAkB,MAAVrB,EAAiBA,EAAOZ,KAAOY,EAASA,IACrF,kBACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAAS7B,GAC1E,IAAI8B,EAEN,OAA6Q,OAApQA,EAASF,EAAQe,KAAKH,KAAe,MAAVb,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUmB,QAAQ,EAAG7C,EAAM,GAAG,QAAU0B,EAAUoB,KAAK,KAAO9C,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiB8B,EAAS,IAC7R,SAAU,M","file":"main.4a0c27143880b1c5b6e8.js","sourcesContent":["import './styles.css';\nimport fetchCountries from './fetchCountries.js';\nimport countryItem from './templates/country-item.hbs';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport PNotifyBrightTheme from '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\n\nconst baseUrl = 'https://restcountries.eu/rest/v2/name/';\n\nconst debounce = require('lodash.debounce');\n\nlet result;\nlet timerId;\n\nconst countriesList = document.querySelector('.article-list');\nlet inp = document.getElementById('input');\n\nconst debounced = debounce(onData, 500);\ninp.addEventListener('input', debounced);\n\nfunction onData() {\n  const inpValue = inp.value;\n  if (inpValue === \"\") {\n    clearOutput();\n    return;\n  }\n\n  fetchCountries(baseUrl, inpValue, onDataReady);\n}\n\nfunction onDataReady(data) {\n  clearOutput();\n  if (data.length >= 10) {\n    notificationOnManyMatches();\n  } else if (data.length > 1) {\n    showCountryList(data);\n  } else {\n    showCountryDetails(data);\n  }\n\n  PNotify.closeAll();\n}\n\nfunction notificationOnManyMatches() {\n  PNotify.error('Too many matches found! Please enter a more specific query!');\n}\n\nfunction showCountryList(countryList) {\n  const itm = countryList.reduce(\n    (acc, item) => (acc += `<li>${item.name}</li>`),\n    '',\n  );\n  countriesList.insertAdjacentHTML('beforeend', itm);\n}\n\nfunction showCountryDetails(cntry) {\n  insertItems(createListMarkup(cntry));\n}\n\nfunction insertItems(items) {\n  countriesList.insertAdjacentHTML('beforeend', items);\n}\n\nfunction createListMarkup(items) {\n  return countryItem(items);\n}\n\nfunction clearOutput() {\n  countriesList.innerHTML = '';\n}","export default function fetchCountries(baseUrl, value, onData) {\n   fetch(baseUrl + value).then(response =>\n    response\n      .json())\n      .then(data => {\n        if(onData !== null)\n        {onData(data)};\n        return data;\n      })\n      .catch( e => {\n        console.log(e)\n      })\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<li class=\\\"item\\\">\\n  <span class=\\\"title\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":22},\"end\":{\"line\":4,\"column\":30}}}) : helper)))\n    + \"</span>\\n  <span class=\\\"description\\\">Capital: <span class=\\\"ab\\\">\"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":54},\"end\":{\"line\":5,\"column\":65}}}) : helper)))\n    + \"</span></span>\\n  <span class=\\\"description\\\">Population: <span class=\\\"ab\\\">\"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":57},\"end\":{\"line\":6,\"column\":71}}}) : helper)))\n    + \"</span></span>\\n  <span class=\\\"description\\\">Languages:\\n\\n    <ul class=\\\"innerList\\\">\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":6},\"end\":{\"line\":12,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\n\\n  </span>\\n</li>\\n<img src=\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":9},\"end\":{\"line\":17,\"column\":17}}}) : helper)))\n    + \" alt=\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":22},\"end\":{\"line\":17,\"column\":30}}}) : helper)))\n    + \">\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"      <li class=\\\"innerItem\\\"><span>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</span></li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":18,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}